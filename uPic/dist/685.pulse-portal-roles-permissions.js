"use strict";(self.webpackChunkroles_permissions=self.webpackChunkroles_permissions||[]).push([[685],{61237:function(e,r,t){t.d(r,{Z:function(){return g}});var n=t(93750),o=t(39711),i=t(85893),a=["links","activeLast"];function l(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function c(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?l(Object(t),!0).forEach((function(r){u(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function u(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function s(e){var r=e.links,t=e.activeLast,o=void 0!==t&&t,l=function(e,r){if(null==e)return{};var t,n,o=function(e,r){if(null==e)return{};var t,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)t=i[n],r.indexOf(t)>=0||(o[t]=e[t]);return o}(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)t=i[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}(e,a),u=r[r.length-1].name,s=r.map((function(e){return(0,i.jsx)(f,{link:e},e.name)})),d=r.map((function(e){return(0,i.jsx)("div",{children:e.name!==u?(0,i.jsx)(f,{link:e}):(0,i.jsx)(n.Typography,{variant:"body2",sx:{maxWidth:260,overflow:"hidden",whiteSpace:"nowrap",color:"text.disabled",textOverflow:"ellipsis"},children:u})},e.name)}));return(0,i.jsx)(n.Breadcrumbs,c(c({separator:(0,i.jsx)(n.Box,{component:"span",sx:{width:4,height:4,borderRadius:"50%",bgcolor:"text.disabled"}})},l),{},{children:o?s:d}))}function f(e){var r=e.link,t=r.href,a=r.name,l=r.icon;return(0,i.jsxs)(n.Link,{variant:"body2",component:o.rU,to:t||"#",sx:{lineHeight:2,display:"flex",alignItems:"center",color:"text.primary","& > div":{display:"inherit"}},children:[l&&(0,i.jsx)(n.Box,{sx:{mr:1,"& svg":{width:20,height:20}},children:l}),a]},a)}var d=["links","action","heading","moreLink","sx"];function p(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function b(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?p(Object(t),!0).forEach((function(r){y(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):p(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function y(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function g(e){var r=e.links,t=e.action,o=e.heading,a=e.moreLink,l=void 0===a?[]:a,c=e.sx,u=function(e,r){if(null==e)return{};var t,n,o=function(e,r){if(null==e)return{};var t,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)t=i[n],r.indexOf(t)>=0||(o[t]=e[t]);return o}(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)t=i[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}(e,d);return(0,i.jsxs)(n.Box,{sx:b({mb:5},c),children:[(0,i.jsxs)(n.Box,{sx:{display:"flex",alignItems:"center"},children:[(0,i.jsxs)(n.Box,{sx:{flexGrow:1},children:[(0,i.jsx)(n.Typography,{variant:"h4",gutterBottom:!0,children:o}),(0,i.jsx)(s,b({links:r},u))]}),t&&(0,i.jsx)(n.Box,{sx:{flexShrink:0},children:t})]}),(0,i.jsx)(n.Box,{sx:{mt:2},children:"string"==typeof l?(0,i.jsx)(n.Link,{href:l,target:"_blank",rel:"noopener",variant:"body2",children:l}):l.map((function(e){return(0,i.jsx)(n.Link,{noWrap:!0,href:e,variant:"body2",target:"_blank",rel:"noopener",sx:{display:"table"},children:e},e)}))})]})}},65694:function(e,r,t){var n=t(70405),o=t(5954),i=t(93750),a=t(85893),l=["children","title","meta"];function c(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function u(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?c(Object(t),!0).forEach((function(r){s(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):c(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function s(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var f=(0,o.forwardRef)((function(e,r){var t=e.children,o=e.title,c=void 0===o?"":o,s=e.meta,f=function(e,r){if(null==e)return{};var t,n,o=function(e,r){if(null==e)return{};var t,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)t=i[n],r.indexOf(t)>=0||(o[t]=e[t]);return o}(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)t=i[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}(e,l);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(n.ql,{children:[(0,a.jsx)("title",{children:"".concat(c," | Pulse Portal")}),s]}),(0,a.jsx)(i.Box,u(u({ref:r},f),{},{children:t}))]})}));r.Z=f},80685:function(e,r,t){t.r(r),t.d(r,{default:function(){return w}});var n=t(93750),o=t(79471),i=t(5954),a=t(96974),l=t(61237),c=t(65694);function u(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,o,i=[],a=!0,l=!1;try{for(t=t.call(e);!(a=(n=t.next()).done)&&(i.push(n.value),!r||i.length!==r);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==t.return||t.return()}finally{if(l)throw o}}return i}}(e,r)||function(e,r){if(e){if("string"==typeof e)return s(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?s(e,r):void 0}}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function f(e,r,t){return r[t]<e[t]?-1:r[t]>e[t]?1:0}function d(e,r){return"desc"===e?function(e,t){return f(e,t,r)}:function(e,t){return-f(e,t,r)}}var p=t(25782),b=t(47690),y=t(6695),g=t(85893);function h(e){var r,t=e.row,o=e.selected,i=e.onEditRow,a=t.id,l=t.name,c=t.description,u=t.updatedBy,s=t.updatedTime;return(0,g.jsxs)(n.TableRow,{hover:!0,selected:o,sx:{wordBreak:"break-word"},children:[(0,g.jsx)(n.TableCell,{children:l}),(0,g.jsx)(n.TableCell,{children:a}),(0,g.jsx)(n.TableCell,{children:c}),(0,g.jsx)(n.TableCell,{children:u}),(0,g.jsx)(n.TableCell,{children:s&&(r=s,(0,y.Z)(new Date(r),"MMM dd, yyyy, HH:mm"))}),(0,g.jsx)(n.TableCell,{align:"center",children:(0,g.jsx)(n.Button,{color:"info",onClick:function(){i()},children:"Details"})})]})}var m=t(80164);function j(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,o,i=[],a=!0,l=!1;try{for(t=t.call(e);!(a=(n=t.next()).done)&&(i.push(n.value),!r||i.length!==r);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==t.return||t.return()}finally{if(l)throw o}}return i}}(e,r)||v(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,r){if(e){if("string"==typeof e)return O(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?O(e,r):void 0}}function O(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}var x=[{id:"role",label:"Role",align:"left"},{id:"id",label:"Role ID",align:"left"},{id:"description",label:"Description",align:"left"},{id:"lastEditor",label:"Last Editor",align:"left"},{id:"lastEditTime",label:"Last Edit Time",align:"left"},{id:"",label:"Actions",align:"center"}];function w(){var e=function(e){var r=u((0,i.useState)(!1),2),t=r[0],n=r[1],o=u((0,i.useState)("name"),2),a=o[0],l=o[1],c=u((0,i.useState)("asc"),2),s=c[0],f=c[1],d=u((0,i.useState)(0),2),p=d[0],b=d[1],y=u((0,i.useState)(5),2),g=y[0],h=y[1],m=u((0,i.useState)([]),2),j=m[0],v=m[1];return{dense:t,order:s,page:p,setPage:b,orderBy:a,rowsPerPage:g,selected:j,setSelected:v,onSelectRow:function(e){var r=j.indexOf(e),t=[];-1===r?t=t.concat(j,e):0===r?t=t.concat(j.slice(1)):r===j.length-1?t=t.concat(j.slice(0,-1)):r>0&&(t=t.concat(j.slice(0,r),j.slice(r+1))),v(t)},onSelectAllRows:function(e,r){v(e?r:[])},onSort:function(e){""!==e&&(f(a===e&&"asc"===s?"desc":"asc"),l(e))},onChangePage:function(e,r){b(r)},onChangeDense:function(e){n(e.target.checked)},onChangeRowsPerPage:function(e){h(parseInt(e.target.value,10)),b(0)}}}(),r=e.dense,t=e.page,s=e.order,f=e.orderBy,y=e.rowsPerPage,w=(e.setPage,e.selected),P=e.setSelected,S=e.onSelectRow,k=(e.onSelectAllRows,e.onSort,e.onChangePage),R=e.onChangeRowsPerPage,T=(0,p.v9)((function(e){return e.main})).appName,C=(0,a.s0)(),E=((0,p.I0)(),j((0,i.useState)([]),2)),D=E[0],A=E[1],I=j((0,i.useState)(""),2),B=I[0],L=(I[1],(0,m.Ym)({page:t,rowsPerPage:y})),q=L.data,M=L.isLoading;L.isFetching,(0,i.useEffect)((function(){null!=q&&q.records&&A(q.records)}),[q]);var H,N=function(e){var r=e.tableData,t=e.comparator,n=e.filterName,o=r.map((function(e,r){return[e,r]}));return o.sort((function(e,r){var n=t(e[0],r[0]);return 0!==n?n:e[1]-r[1]})),r=o.map((function(e){return e[0]})),n&&(r=r.filter((function(e){return-1!==e.name.toLowerCase().indexOf(n.toLowerCase())}))),r}({tableData:D,comparator:d(s,f),filterName:B}),U=r?60:80,Z=!N.length&&!!B||!M&&!N.length;return(0,g.jsx)(c.Z,{title:"Home: Roles & Permissions",children:(0,g.jsxs)(n.Container,{maxWidth:"lg",children:[(0,g.jsx)(l.Z,{heading:"Roles & Permissions",links:[{name:"Home",href:b.c.root},{name:"Roles & Permissions Management"}]}),(0,g.jsxs)(n.Card,{children:[(0,g.jsx)(n.Scrollbar,{children:(0,g.jsx)(n.TableContainer,{sx:{minWidth:960,position:"relative"},children:(0,g.jsxs)(n.Table,{size:r?"small":"medium",sx:{mt:1},children:[(0,g.jsx)(n.TableHeadCustom,{order:s,orderBy:f,headLabel:x,rowCount:D.length,numSelected:w.length}),(0,g.jsxs)(n.TableBody,{children:[(M?(H=Array(y),function(e){if(Array.isArray(e))return O(e)}(H)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(H)||v(H)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()):D).map((function(e,r){return e?(0,g.jsx)(h,{row:e,selected:w.includes(e.id),onSelectRow:function(){return S(e.id)},onDeleteRow:function(){return r=e.id,t=D.filter((function(e){return e.id!==r})),P([]),void A(t);var r,t},onEditRow:function(){return r=e.id,void C(b.c.role.edit(T,(0,o.o)(r)));var r}},e.id):!Z&&(0,g.jsx)(n.TableSkeleton,{sx:{height:U}},r)})),(0,g.jsx)(n.TableNoData,{isNotFound:Z})]})]})})}),(0,g.jsx)(n.Box,{sx:{position:"relative"},children:(0,g.jsx)(n.TablePagination,{rowsPerPageOptions:[5,10,25],component:"div",count:(null==q?void 0:q.paging.total)||0,rowsPerPage:y,page:t,onPageChange:k,onRowsPerPageChange:R})})]})]})})}},80164:function(e,r,t){t.d(r,{Ym:function(){return l},gK:function(){return c},iL:function(){return a}});var n=t(74414),o=["id"];var i=n.h.injectEndpoints({endpoints:function(e){return{getRoles:e.query({query:function(e){return{url:"roles",method:"GET",params:{pageIndex:e.page+1,itemsPerPage:e.rowsPerPage}}},providesTags:function(e){return e?e.records.map((function(e){return{type:"Roles",id:e.id}})):["Roles"]}}),addRole:e.mutation({query:function(e){return{url:"roles",method:"POST",body:e}},invalidatesTags:[{type:"Roles",id:"LIST"}]}),getRole:e.query({query:function(e){return"roles/".concat(e)},providesTags:function(e,r,t){return[{type:"Roles",id:t}]}}),updateRole:e.mutation({query:function(e){var r=e.id,t=function(e,r){if(null==e)return{};var t,n,o=function(e,r){if(null==e)return{};var t,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)t=i[n],r.indexOf(t)>=0||(o[t]=e[t]);return o}(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)t=i[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}(e,o);return{url:"roles/".concat(r),method:"PUT",body:t}},invalidatesTags:function(e){return[{type:"Roles",id:null==e?void 0:e.id}]}}),deleteRole:e.mutation({query:function(e){return{url:"posts/".concat(e),method:"DELETE"}},invalidatesTags:function(e){return[{type:"Roles",id:null==e?void 0:e.id}]}})}}}),a=i.useGetRoleQuery,l=i.useGetRolesQuery,c=i.useUpdateRoleMutation},47690:function(e,r,t){function n(e,r){return"/".concat(e).concat(r)}t.d(r,{c:function(){return o}});var o={root:"/",role:{root:function(e){return n(e,"/list")},edit:function(e,r){return n(e,"/list/".concat(r,"/edit"))}}}}}]);
//# sourceMappingURL=685.pulse-portal-roles-permissions.js.map